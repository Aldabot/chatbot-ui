{"map":"{\"version\":3,\"sources\":[\"/Users/knowledge/Developer/chatbot-ui/src/components/Message.js\",\"/Users/knowledge/Developer/chatbot-ui/src/components/Input.js\",\"/Users/knowledge/Developer/chatbot-ui/src/components/ChatbotContainer.js\",\"/Users/knowledge/Developer/chatbot-ui/src/App.js\",\"/Users/knowledge/Developer/chatbot-ui/src/serviceWorker.js\",\"/Users/knowledge/Developer/chatbot-ui/src/index.js\"],\"names\":[\"BotContainer\",\"styled\",\"div\",\"_templateObject\",\"HumanContainer\",\"_templateObject2\",\"Message\",\"props\",\"user\",\"react_default\",\"a\",\"createElement\",\"text\",\"InputContainer\",\"Input_templateObject\",\"sendMessage\",\"input\",\"document\",\"getElementById\",\"_this\",\"addMessage\",\"value\",\"handleKeyPress\",\"e\",\"key\",\"id\",\"onKeyPress\",\"this\",\"onClick\",\"Component\",\"client\",\"axios\",\"create\",\"baseURL\",\"timeout\",\"Container\",\"ChatbotContainer_templateObject\",\"MessageContainer\",\"ChatbotContainer_templateObject2\",\"ChatbotContainer\",\"state\",\"messages\",\"_callee\",\"_ref2\",\"data\",\"_iteratorNormalCompletion\",\"_didIteratorError\",\"_iteratorError\",\"_iterator\",\"_step\",\"msg\",\"regenerator_default\",\"wrap\",\"_context\",\"prev\",\"next\",\"addMessageAndScroll\",\"post\",\"query\",\"sessionId\",\"sent\",\"undefined\",\"Symbol\",\"iterator\",\"done\",\"t0\",\"return\",\"finish\",\"t1\",\"console\",\"error\",\"stop\",\"setState\",\"concat\",\"objDiv\",\"scrollTop\",\"scrollHeight\",\"map\",\"components_Message\",\"Input\",\"App\",\"components_ChatbotContainer\",\"Boolean\",\"window\",\"location\",\"hostname\",\"match\",\"ReactDOM\",\"render\",\"src_App\",\"navigator\",\"serviceWorker\",\"ready\",\"then\",\"registration\",\"unregister\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react'\\nimport styled from 'styled-components'\\n\\nconst BotContainer = styled.div`\\n  flex-basis: 80%;\\n  margin: 0 0 6px 16px;\\n  padding: 5px;\\n  border-radius: 10px;\\n  background-color: white;\\n`\\nconst HumanContainer = styled.div`\\n  flex-basis: 80%;\\n  margin: 0 16px 6px auto;\\n  padding: 5px;\\n  border-radius: 10px;\\n  background-color: blue;\\n  color: white;\\n`\\n\\nconst Message = (props) => {\\n  if (props.user)\\n    return (<HumanContainer>{props.text}</HumanContainer>)\\n  return <BotContainer>{props.text}</BotContainer>\\n}\\n\\nexport default Message\\n\",\"import React, { Component } from 'react'\\nimport styled from 'styled-components'\\n\\nconst InputContainer = styled.div`\\n  flex-basis: 100%;\\n  padding: 5px;\\n  border-radius: 6px;\\n  background-color: white;\\n  display: flex;\\n  justify-content: space-between;\\n`\\n\\nclass Message extends Component {\\n  sendMessage = () => {\\n    const input = document.getElementById('textInput')\\n    this.props.addMessage(input.value)\\n    input.value = ''\\n  }\\n\\n  handleKeyPress = (e) => {\\n    if( e.key === 'Enter' )\\n      this.sendMessage()\\n  }\\n\\n  render() {\\n    return (\\n      <InputContainer>\\n        <input\\n          id=\\\"textInput\\\"\\n          onKeyPress={this.handleKeyPress}\\n        />\\n        <button id=\\\"sendBtn\\\" onClick={this.sendMessage}>\\n          Send\\n        </button>\\n      </InputContainer>\\n    )\\n  }\\n}\\n\\nexport default Message\\n\",\"import React, { Component } from 'react'\\nimport axios from 'axios'\\nimport styled from 'styled-components'\\nimport Message from './Message'\\nimport Input from './Input'\\n\\nconst client = axios.create({\\n  baseURL: 'https://tjh05l55r4.execute-api.eu-west-1.amazonaws.com/dev',\\n  timeout: 1000\\n})\\n\\nconst Container = styled.div`\\n  padding: 10px;\\n  width: 50vw;\\n  margin: auto;\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-content: space-between;\\n  background-color: black;\\n  overflow: hidden;\\n`\\n\\nconst MessageContainer = styled.div`\\n  width: 100%;\\n  height: 400px;\\n  max-heigth: 400px;\\n  background-color: gray;\\n  margin: auto;\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-content: flex-start;\\n  overflow: scroll;\\n`\\n\\nclass ChatbotContainer extends Component {\\n  state = {\\n    messages: [\\n      {\\n        text: 'Hola',\\n        user: false\\n      },\\n      {\\n        text: 'Hola!',\\n        user: true\\n      },\\n      {\\n        text: 'Que tal?',\\n        user: false\\n      }\\n    ]\\n  }\\n\\n  addMessage = async (text) => {\\n    this.addMessageAndScroll(text, true)\\n    try {\\n      const { data } = await client.post('/dialogflow', {\\n        query: text,\\n        sessionId: '1'\\n      })\\n      for(const msg of data) {\\n        this.addMessageAndScroll(msg.text.text[0], false)\\n      }\\n    } catch(err) {\\n      console.error(err)\\n    }\\n  }\\n\\n  addMessageAndScroll = (text, user) => {\\n    this.setState({\\n      messages: this.state.messages.concat({ text, user })\\n    })\\n    const objDiv = document.getElementById(\\\"messages\\\");\\n    objDiv.scrollTop = objDiv.scrollHeight;\\n  }\\n\\n  render() {\\n    return (\\n      <Container>\\n        <MessageContainer id=\\\"messages\\\">\\n          {this.state.messages.map(msg =>\\n            <Message {...msg} />\\n          )}\\n        </MessageContainer>\\n        <Input addMessage={this.addMessage} />\\n      </Container>\\n    )\\n  }\\n}\\n\\nexport default ChatbotContainer\\n\",\"import React, { Component } from 'react';\\nimport ChatbotContainer from './components/ChatbotContainer'\\n\\nclass App extends Component {\\n  render() {\\n    return (\\n      <ChatbotContainer />\\n    );\\n  }\\n}\\n\\nexport default App;\\n\",\"// This optional code is used to register a service worker.\\n// register() is not called by default.\\n\\n// This lets the app load faster on subsequent visits in production, and gives\\n// it offline capabilities. However, it also means that developers (and users)\\n// will only see deployed updates on subsequent visits to a page, after all the\\n// existing tabs open on the page have been closed, since previously cached\\n// resources are updated in the background.\\n\\n// To learn more about the benefits of this model and instructions on how to\\n// opt-in, read http://bit.ly/CRA-PWA.\\n\\nconst isLocalhost = Boolean(\\n  window.location.hostname === 'localhost' ||\\n    // [::1] is the IPv6 localhost address.\\n    window.location.hostname === '[::1]' ||\\n    // 127.0.0.1/8 is considered localhost for IPv4.\\n    window.location.hostname.match(\\n      /^127(?:\\\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\\n    )\\n);\\n\\nexport function register(config) {\\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\\n    // The URL constructor is available in all browsers that support SW.\\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\\n    if (publicUrl.origin !== window.location.origin) {\\n      // Our service worker won't work if PUBLIC_URL is on a different origin\\n      // from what our page is served on. This might happen if a CDN is used to\\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\\n      return;\\n    }\\n\\n    window.addEventListener('load', () => {\\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\\n\\n      if (isLocalhost) {\\n        // This is running on localhost. Let's check if a service worker still exists or not.\\n        checkValidServiceWorker(swUrl, config);\\n\\n        // Add some additional logging to localhost, pointing developers to the\\n        // service worker/PWA documentation.\\n        navigator.serviceWorker.ready.then(() => {\\n          console.log(\\n            'This web app is being served cache-first by a service ' +\\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\\n          );\\n        });\\n      } else {\\n        // Is not localhost. Just register service worker\\n        registerValidSW(swUrl, config);\\n      }\\n    });\\n  }\\n}\\n\\nfunction registerValidSW(swUrl, config) {\\n  navigator.serviceWorker\\n    .register(swUrl)\\n    .then(registration => {\\n      registration.onupdatefound = () => {\\n        const installingWorker = registration.installing;\\n        installingWorker.onstatechange = () => {\\n          if (installingWorker.state === 'installed') {\\n            if (navigator.serviceWorker.controller) {\\n              // At this point, the updated precached content has been fetched,\\n              // but the previous service worker will still serve the older\\n              // content until all client tabs are closed.\\n              console.log(\\n                'New content is available and will be used when all ' +\\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\\n              );\\n\\n              // Execute callback\\n              if (config && config.onUpdate) {\\n                config.onUpdate(registration);\\n              }\\n            } else {\\n              // At this point, everything has been precached.\\n              // It's the perfect time to display a\\n              // \\\"Content is cached for offline use.\\\" message.\\n              console.log('Content is cached for offline use.');\\n\\n              // Execute callback\\n              if (config && config.onSuccess) {\\n                config.onSuccess(registration);\\n              }\\n            }\\n          }\\n        };\\n      };\\n    })\\n    .catch(error => {\\n      console.error('Error during service worker registration:', error);\\n    });\\n}\\n\\nfunction checkValidServiceWorker(swUrl, config) {\\n  // Check if the service worker can be found. If it can't reload the page.\\n  fetch(swUrl)\\n    .then(response => {\\n      // Ensure service worker exists, and that we really are getting a JS file.\\n      if (\\n        response.status === 404 ||\\n        response.headers.get('content-type').indexOf('javascript') === -1\\n      ) {\\n        // No service worker found. Probably a different app. Reload the page.\\n        navigator.serviceWorker.ready.then(registration => {\\n          registration.unregister().then(() => {\\n            window.location.reload();\\n          });\\n        });\\n      } else {\\n        // Service worker found. Proceed as normal.\\n        registerValidSW(swUrl, config);\\n      }\\n    })\\n    .catch(() => {\\n      console.log(\\n        'No internet connection found. App is running in offline mode.'\\n      );\\n    });\\n}\\n\\nexport function unregister() {\\n  if ('serviceWorker' in navigator) {\\n    navigator.serviceWorker.ready.then(registration => {\\n      registration.unregister();\\n    });\\n  }\\n}\\n\",\"import React from 'react';\\nimport ReactDOM from 'react-dom';\\nimport './index.css';\\nimport App from './App';\\nimport * as serviceWorker from './serviceWorker';\\n\\nReactDOM.render(<App />, document.getElementById('root'));\\n\\n// If you want your app to work offline and load faster, you can change\\n// unregister() to register() below. Note this comes with some pitfalls.\\n// Learn more about service workers: http://bit.ly/CRA-PWA\\nserviceWorker.unregister();\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{102:function(e,n,t){e.exports=t(217)},192:function(e,n,t){},217:function(e,n,t){\"use strict\";t.r(n);var a=t(1),r=t.n(a),o=t(97),s=t.n(o),c=(t(192),t(22)),i=t(23),u=t(25),l=t(24),d=t(26),p=t(58),f=t.n(p),h=t(98),v=t(14),b=t(99),g=t.n(b),m=t(15);function x(){var e=Object(v.a)([\"\\n  flex-basis: 80%;\\n  margin: 0 16px 6px auto;\\n  padding: 5px;\\n  border-radius: 10px;\\n  background-color: blue;\\n  color: white;\\n\"]);return x=function(){return e},e}function w(){var e=Object(v.a)([\"\\n  flex-basis: 80%;\\n  margin: 0 0 6px 16px;\\n  padding: 5px;\\n  border-radius: 10px;\\n  background-color: white;\\n\"]);return w=function(){return e},e}var y=m.a.div(w()),j=m.a.div(x()),O=function(e){return e.user?r.a.createElement(j,null,e.text):r.a.createElement(y,null,e.text)};function k(){var e=Object(v.a)([\"\\n  flex-basis: 100%;\\n  padding: 5px;\\n  border-radius: 6px;\\n  background-color: white;\\n  display: flex;\\n  justify-content: space-between;\\n\"]);return k=function(){return e},e}var E=m.a.div(k()),M=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).sendMessage=function(){var e=document.getElementById(\"textInput\");t.props.addMessage(e.value),e.value=\"\"},t.handleKeyPress=function(e){\"Enter\"===e.key&&t.sendMessage()},t}return Object(d.a)(n,e),Object(i.a)(n,[{key:\"render\",value:function(){return r.a.createElement(E,null,r.a.createElement(\"input\",{id:\"textInput\",onKeyPress:this.handleKeyPress}),r.a.createElement(\"button\",{id:\"sendBtn\",onClick:this.sendMessage},\"Send\"))}}]),n}(a.Component);function I(){var e=Object(v.a)([\"\\n  width: 100%;\\n  height: 400px;\\n  max-heigth: 400px;\\n  background-color: gray;\\n  margin: auto;\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-content: flex-start;\\n  overflow: scroll;\\n\"]);return I=function(){return e},e}function S(){var e=Object(v.a)([\"\\n  padding: 10px;\\n  width: 50vw;\\n  margin: auto;\\n  display: flex;\\n  flex-wrap: wrap;\\n  align-content: space-between;\\n  background-color: black;\\n  overflow: hidden;\\n\"]);return S=function(){return e},e}var A=g.a.create({baseURL:\"https://tjh05l55r4.execute-api.eu-west-1.amazonaws.com/dev\",timeout:1e3}),B=m.a.div(S()),C=m.a.div(I()),H=function(e){function n(){var e,t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(u.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).state={messages:[{text:\"Hola\",user:!1},{text:\"Hola!\",user:!0},{text:\"Que tal?\",user:!1}]},t.addMessage=function(){var e=Object(h.a)(f.a.mark(function e(n){var a,r,o,s,c,i,u,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.addMessageAndScroll(n,!0),e.prev=1,e.next=4,A.post(\"/dialogflow\",{query:n,sessionId:\"1\"});case 4:for(a=e.sent,r=a.data,o=!0,s=!1,c=void 0,e.prev=9,i=r[Symbol.iterator]();!(o=(u=i.next()).done);o=!0)l=u.value,t.addMessageAndScroll(l.text.text[0],!1);e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),s=!0,c=e.t0;case 17:e.prev=17,e.prev=18,o||null==i.return||i.return();case 20:if(e.prev=20,!s){e.next=23;break}throw c;case 23:return e.finish(20);case 24:return e.finish(17);case 25:e.next=30;break;case 27:e.prev=27,e.t1=e.catch(1),console.error(e.t1);case 30:case\"end\":return e.stop()}},e,this,[[1,27],[9,13,17,25],[18,,20,24]])}));return function(n){return e.apply(this,arguments)}}(),t.addMessageAndScroll=function(e,n){t.setState({messages:t.state.messages.concat({text:e,user:n})});var a=document.getElementById(\"messages\");a.scrollTop=a.scrollHeight},t}return Object(d.a)(n,e),Object(i.a)(n,[{key:\"render\",value:function(){return r.a.createElement(B,null,r.a.createElement(C,{id:\"messages\"},this.state.messages.map(function(e){return r.a.createElement(O,e)})),r.a.createElement(M,{addMessage:this.addMessage}))}}]),n}(a.Component),K=function(e){function n(){return Object(c.a)(this,n),Object(u.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(d.a)(n,e),Object(i.a)(n,[{key:\"render\",value:function(){return r.a.createElement(H,null)}}]),n}(a.Component);Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(K,null),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[102,2,1]]]);","extractedComments":[]}